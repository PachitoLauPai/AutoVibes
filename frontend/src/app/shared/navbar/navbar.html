<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    
    <!-- Logo -->
    <a class="navbar-brand fw-bold" href="#" (click)="irAlLogo(); $event.preventDefault()">
      <img src="assets/logo.png" alt="AutoVibes Logo" height="40" class="me-2">
      <span class="d-none d-sm-inline">AutoVibes</span>
    </a>

    <!-- Toggle Button (Mobile) -->
    <button class="navbar-toggler" type="button" (click)="toggleMenu()" 
            [attr.aria-expanded]="isMenuOpen">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Navbar Menu -->
    <div class="collapse navbar-collapse" [class.show]="isMenuOpen">
      <ul class="navbar-nav ms-auto">
        
        <!-- ========== NAVEGACIÃ“N CLIENTE (NO LOGUEADO) ========== -->
        <ng-container *ngIf="!authService.isLoggedIn()">
          <!-- ğŸ  Inicio -->
          <li class="nav-item">
            <a class="nav-link" href="#" (click)="irAHome(); $event.preventDefault()">
              ğŸ  Inicio
            </a>
          </li>

          <!-- ğŸš— Autos -->
          <li class="nav-item">
            <a class="nav-link" href="#" (click)="irAAutos(); $event.preventDefault()">
              ğŸš— Autos
            </a>
          </li>

          <!-- Separador visual -->
          <li class="nav-item">
            <span class="navbar-text mx-3">|</span>
          </li>

          <!-- ğŸ” Iniciar SesiÃ³n -->
          <li class="nav-item">
            <button class="btn btn-primary btn-sm" (click)="irALogin()">
              ğŸ” Iniciar SesiÃ³n
            </button>
          </li>
        </ng-container>

        <!-- ========== NAVEGACIÃ“N CLIENTE LOGUEADO ========== -->
        <ng-container *ngIf="authService.isLoggedIn() && authService.isCliente()">
          <!-- ğŸ  Inicio -->
          <li class="nav-item">
            <a class="nav-link" href="#" (click)="irAHome(); $event.preventDefault()">
              ğŸ  Inicio
            </a>
          </li>

          <!-- ğŸš— Autos -->
          <li class="nav-item">
            <a class="nav-link" href="#" (click)="irAAutos(); $event.preventDefault()">
              ğŸš— Autos
            </a>
          </li>

          <!-- Separador visual -->
          <li class="nav-item">
            <span class="navbar-text mx-3">|</span>
          </li>

          <!-- ğŸ‘¤ Usuario Logueado (con dropdown) -->
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" 
              href="#" 
              id="navbarDropdown"
              role="button" 
              data-bs-toggle="dropdown" 
              aria-expanded="false">
              ğŸ‘¤ {{ currentUser?.nombre || 'Usuario' }}
            </a>

            <!-- Dropdown Menu -->
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
              
              <!-- Mi Perfil -->
              <li>
                <a class="dropdown-item" href="#" (click)="irAMiPerfil(); $event.preventDefault()">
                  ğŸ‘¤ Mi Perfil
                </a>
              </li>

              <!-- Mis Solicitudes -->
              <li>
                <a class="dropdown-item" href="#">
                  ğŸ“‹ Mis Solicitudes
                </a>
              </li>

              <!-- Separador -->
              <li><hr class="dropdown-divider"></li>

              <!-- ğŸšª Cerrar SesiÃ³n -->
              <li>
                <button class="dropdown-item text-danger fw-bold" 
                        (click)="logout()"
                        style="border: none; background: none; cursor: pointer;">
                  ğŸšª Cerrar SesiÃ³n
                </button>
              </li>
            </ul>
          </li>
        </ng-container>

        <!-- ========== NAVEGACIÃ“N ADMIN ========== -->
        <ng-container *ngIf="authService.isAdmin()">
      
          <!-- Separador visual -->
          <li class="nav-item">
            <span class="navbar-text mx-2">|</span>
          </li>

          <!-- â• Agregar Auto -->
          <li class="nav-item">
            <a class="nav-link" href="#" (click)="irAAgregarAuto(); $event.preventDefault()">
              â• Agregar Auto
            </a>
          </li>

          <!-- ğŸ‘¥ Usuarios -->
          <li class="nav-item">
            <a class="nav-link" href="#" (click)="irAUsuarios(); $event.preventDefault()">
              ğŸ‘¥ Usuarios
            </a>
          </li>

          <!-- ğŸ§¾ Ventas -->
          <li class="nav-item">
            <a class="nav-link" href="#" (click)="irAVentas(); $event.preventDefault()">
              ğŸ§¾ Ventas
            </a>
          </li>

          <!-- Separador visual -->
          <li class="nav-item">
            <span class="navbar-text mx-2">|</span>
          </li>

          <!-- INFO ADMIN -->
          <li class="nav-item me-3">
            <span class="navbar-text">
              <span class="badge bg-warning text-dark">ğŸ‘‘ ADMIN</span>
              <strong class="ms-2">{{ currentUser?.nombre }}</strong>
            </span>
          </li>

          <!-- ğŸšª Cerrar SesiÃ³n -->
          <li class="nav-item">
            <button class="btn btn-danger btn-sm" (click)="logout()">
              ğŸšª Cerrar SesiÃ³n
            </button>
          </li>
        </ng-container>

      </ul>
    </div>
  </div>
</nav>